(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[9],{1097:function(e,a,t){"use strict";var n=t(132),l=t(133),r=t(330),o=t(329),c=function(e){Object(r.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this,"/api/user")).getAllCustomers=function(){return e.get("/admin/account/user/allCustomers")},e.blockCustomer=function(a,t){return e.post("/admin/account/user/blockCustomer",{userId:a,status:t})},e.getAllVendors=function(){return e.get("/admin/account/user/allVendors")},e.blockVendor=function(a,t){return e.post("/admin/account/user/blockVendor",{userId:a,status:t})},e}return Object(n.a)(t)}(t(331).a);a.a=new c},1598:function(e,a,t){"use strict";t.r(a);var n=t(39),l=t(0),r=t.n(l),o=t(1017),c=t(1067),i=t(1072),u=t(317),s=t(36),m=t(43),d=t(3),f=t(1068),b=t(1584),g=t(1050),E=t(1019),p=t(1103),v=t.n(p),h=["className"],O=Object(o.a)((function(e){return{root:{},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}},actionIcon:{marginRight:e.spacing(1)}}}));var j=function(e){var a=e.className,t=Object(s.a)(e,h),n=O();return r.a.createElement(f.a,Object.assign({className:Object(d.a)(n.root,a),container:!0,justify:"space-between",spacing:3},t),r.a.createElement(f.a,{item:!0},r.a.createElement(b.a,{separator:r.a.createElement(v.a,{fontSize:"small"}),"aria-label":"breadcrumb"},r.a.createElement(g.a,{variant:"body1",color:"inherit",to:"#",component:m.a},"Dashboard"),r.a.createElement(g.a,{variant:"body1",color:"inherit",to:"#",component:m.a},"Management"),r.a.createElement(E.a,{variant:"body1",color:"textPrimary"},"Customers")),r.a.createElement(E.a,{variant:"h3",color:"textPrimary"},"All Customers"),r.a.createElement(i.a,{mt:2})))},k=t(180),C=t(323),y=t.n(C),x=t(1172),w=t(1055),N=t(1063),S=t(1175),I=t(1176),R=t(1177),U=t(1178),A=t(1179),V=t(1079),B=t(1062),L=t(146),P=t(1588),_=t(1589),z=t(1590),T=t(1591),q=t(1097),D=t(1597),H=["className","customers","updateUser"],J=Object(o.a)((function(e){return{root:{},queryField:{width:500},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:6,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.default},bulkAction:{marginLeft:e.spacing(2)},avatar:{height:42,width:42,marginRight:e.spacing(1)},mailColor:{textDecoration:"none",color:e.palette.text.primary},formControl:{width:300}}}));function W(e){var a=e.className,t=e.customers,o=e.updateUser,c=Object(s.a)(e,H),u=J(),m=Object(l.useState)([]),f=Object(n.a)(m,1)[0],b=Object(k.b)().enqueueSnackbar,g=Object(l.useState)(t),p=Object(n.a)(g,2),v=p[0],h=p[1],O=Object(l.useState)(),j=Object(n.a)(O,2),C=j[0],W=j[1];Object(l.useEffect)((function(){var e=[];t.map((function(a){return(null===a||void 0===a?void 0:a.email)&&e.push({id:null===a||void 0===a?void 0:a._id,value:null===a||void 0===a?void 0:a.email}),0})),W(e)}),[t]);return r.a.createElement(x.a,Object.assign({className:Object(d.a)(u.root,a)},c),r.a.createElement(w.a,null),r.a.createElement(i.a,{p:2,minHeight:56,display:"flex",alignItems:"center"},r.a.createElement(i.a,{flexGrow:1})),r.a.createElement(y.a,null,r.a.createElement(i.a,{minWidth:700},r.a.createElement(i.a,{p:2,display:"flex",justifyContent:"space-between"},r.a.createElement(i.a,{display:"flex",alignItems:"center"},r.a.createElement(E.a,{variant:"h3"},"Total Customers: ",v.length)),r.a.createElement(D.a,{className:u.formControl,id:"combo-box-demo",options:C,getOptionLabel:function(e){return e.value},renderInput:function(e){return r.a.createElement(N.a,Object.assign({variant:"outlined"},e,{label:"Select Email"}))},onChange:function(e,a){return function(e){if(e){var a=v.filter((function(a){return a._id===e.id}));h(a)}else h(t)}(a)}})),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(U.a,{align:"left"}),r.a.createElement(U.a,{align:"left"},"Username"),r.a.createElement(U.a,{align:"left"},"Email"),r.a.createElement(U.a,{align:"center"},"Verified User"),r.a.createElement(U.a,{align:"center"},"User Blocked"))),r.a.createElement(A.a,null,v.map((function(e){var a=f.includes(e.id);return r.a.createElement(R.a,{hover:!0,key:null===e||void 0===e?void 0:e._id,selected:a},r.a.createElement(U.a,{align:"left"},r.a.createElement(V.a,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.profilePicture})),r.a.createElement(U.a,{align:"left"},null===e||void 0===e?void 0:e.name),r.a.createElement(U.a,{align:"left",title:"mailto"},r.a.createElement("a",{href:"mailto:".concat(null===e||void 0===e?void 0:e.email),className:u.mailColor},null===e||void 0===e?void 0:e.email)),r.a.createElement(U.a,{align:"center"},(null===e||void 0===e?void 0:e.isVerified)?r.a.createElement(P.a,null):r.a.createElement(_.a,null)),r.a.createElement(U.a,{align:"center"},r.a.createElement(B.a,{onClick:function(){q.a.blockCustomer(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.isBlocked).then((function(e){o(null),console.log("RES: ",e),b(e.message,{variant:"success"}),o(e.data)})).catch((function(e){b("Unable to update user profile",{variant:"error"}),console.log("ERR: ",e)}))}},r.a.createElement(L.a,{fontSize:"small"},(null===e||void 0===e?void 0:e.isBlocked)?r.a.createElement(z.a,{style:{color:"red"}}):r.a.createElement(T.a,null)))))})))))))}W.defaultProps={customers:[]};var F=W,G=Object(o.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=G(),a=Object(l.useState)(null),t=Object(n.a)(a,2),o=t[0],s=t[1],m=Object(l.useCallback)((function(){q.a.getAllCustomers().then((function(e){console.log("RES: ",e),s(e.data)}))}),[]);return Object(l.useEffect)((function(){m()}),[m]),o?r.a.createElement(u.a,{className:e.root,title:"No Left Over Ever - Customers"},r.a.createElement(c.a,{maxWidth:!1},r.a.createElement(j,null),o&&r.a.createElement(i.a,{mt:3},r.a.createElement(F,{customers:o,updateUser:function(e){console.log("users updates",e),s(e)}})))):null}}}]);
//# sourceMappingURL=9.725a7181.chunk.js.map